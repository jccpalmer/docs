import path from "node:path";
import { pathToFileURL } from "node:url";
import { resolve as importMetaResolve } from "import-meta-resolve";
let cwdUrlStr;
async function importPlugin(p) {
  try {
<<<<<<< HEAD
    const importResult2 = await import(
      /* @vite-ignore */
      p
    );
=======
    const importResult2 = await import(p);
>>>>>>> 2a34df12b795abd1706ff2b3738872cb2458f6fb
    return importResult2.default;
  } catch {
  }
  cwdUrlStr ??= pathToFileURL(path.join(process.cwd(), "package.json")).toString();
  const resolved = importMetaResolve(p, cwdUrlStr);
<<<<<<< HEAD
  const importResult = await import(
    /* @vite-ignore */
    resolved
  );
=======
  const importResult = await import(resolved);
>>>>>>> 2a34df12b795abd1706ff2b3738872cb2458f6fb
  return importResult.default;
}
export {
  importPlugin
};
